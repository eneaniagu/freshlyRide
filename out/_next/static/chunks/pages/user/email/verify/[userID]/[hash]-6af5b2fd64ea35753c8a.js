_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[28],{"20a2":function(e,r,t){e.exports=t("nOHt")},D0lX:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/email/verify/[userID]/[hash]",function(){return t("uLTp")}])},O9AT:function(e,r,t){"use strict";t.d(r,"a",(function(){return a}));var n=t("nKUr");function a(e){var r=e.additionalWrapperClasses,t=e.additionalInnerClasses,a=e.children,s="card w-full rounded-md bg-white shadow-md p-3 ".concat(r),c="max-w-full h-full mx-auto flex flex-col ".concat(t);return Object(n.jsx)("div",{className:s,children:Object(n.jsx)("div",{className:c,children:a})})}},Oyp5:function(e,r,t){"use strict";t.d(r,"a",(function(){return a}));var n=t("nKUr");function a(e){var r="text-5xl ".concat(e.withMargin?"mb-5":""," ").concat(e.center?"text-center":""," ");return Object(n.jsx)("h1",{className:r,children:e.children})}},aV75:function(e,r,t){"use strict";t.d(r,"a",(function(){return a}));var n=t("nKUr");function a(e){return e.show?Object(n.jsx)("span",{className:"inline-block rounded-full border-4 border-t-4 border-gray-200 border-top-colored animate-spin h-6 w-6"}):Object(n.jsx)("span",{})}},oYlB:function(e,r,t){"use strict";t.d(r,"b",(function(){return p})),t.d(r,"d",(function(){return l})),t.d(r,"c",(function(){return f})),t.d(r,"a",(function(){return d})),t.d(r,"e",(function(){return b})),t.d(r,"f",(function(){return h}));var n=t("o0o1"),a=t.n(n),s=t("HaE+"),c=t("vDqi"),u=t.n(c),o=t("Hse8"),i=function(){return function(){var e=Object(s.a)(a.a.mark((function e(r){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("/sanctum/csrf-cookie");case 3:return e.next=5,u.a.get("/user");case 5:if(200!==(t=e.sent).status){e.next=9;break}return r({type:o.m,payload:t.data}),e.abrupt("return",t.data);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r){return e.apply(this,arguments)}}()},p=function(e,r){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.k}),t.next=4,u.a.get("/sanctum/csrf-cookie");case 4:return t.next=6,u.a.post("/login",{email:e,password:r});case 6:201===t.sent.status&&(n(i()),n({type:o.f})),t.next=19;break;case 10:if(t.prev=10,t.t0=t.catch(0),!t.t0.response||401!==t.t0.response.status){t.next=14;break}return t.abrupt("return",n({type:o.e,payload:"Email or password are incorrect."}));case 14:if(!t.t0.response||419!==t.t0.response.status){t.next=18;break}return t.abrupt("return",n({type:o.e,payload:"Application access denied."}));case 18:return t.abrupt("return",n({type:o.b,payload:"Sorry, somethig went wrong."}));case 19:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},l=function(e,r,t,n){return function(){var c=Object(s.a)(a.a.mark((function s(c){var p;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c({type:o.l}),a.next=4,u.a.get("/sanctum/csrf-cookie");case 4:return a.next=6,u.a.post("/register",{name:e,email:r,password:t,password_confirmed:n});case 6:201===a.sent.status&&c(i()),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),a.t0.response&&422===a.t0.response.status?(p=a.t0.response.data.errors.email[0])&&c({type:o.h,payload:p}):c({type:o.h,payload:"Sorry, something went wrong."});case 13:case"end":return a.stop()}}),s,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()},f=function(){return function(){var e=Object(s.a)(a.a.mark((function e(r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("/logout");case 3:204===e.sent.status&&r({type:o.g}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}()},d=function(e){return function(){var r=Object(s.a)(a.a.mark((function r(t){var n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u.a.post("/password/email",{email:e});case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",{success:n.data.message,error:""});case 6:r.next=13;break;case 8:if(r.prev=8,r.t0=r.catch(0),422!==r.t0.response.status){r.next=13;break}return t({type:o.c}),r.abrupt("return",{success:"",error:"Seems like there is no account for that email."});case 13:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},b=function(e,r,t){return function(){var n=Object(s.a)(a.a.mark((function n(s){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.a.post("/password/reset",{email:e,password:r,token:t});case 3:if(200!==(c=n.sent).status){n.next=6;break}return n.abrupt("return",{success:c.data.message,error:""});case 6:return n.abrupt("return",{success:"",error:"The given data was invalid"});case 9:return n.prev=9,n.t0=n.catch(0),s({type:o.c}),n.abrupt("return",{success:"",error:"The given data is invalid."});case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},h=function(e,r,t,n){return function(){var c=Object(s.a)(a.a.mark((function s(c){var o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o="/email/verify/".concat(e,"/").concat(r,"?expires=").concat(t,"&signature=").concat(n),a.next=4,u.a.get(o);case 4:if(204!==a.sent.status){a.next=9;break}return a.abrupt("return",{success:!0,error:""});case 9:return a.abrupt("return",{success:!1,error:"Something went wrong"});case 10:a.next=19;break;case 12:if(a.prev=12,a.t0=a.catch(0),!a.t0.response||!a.t0.response.data){a.next=18;break}return a.abrupt("return",{success:!1,error:a.t0.response.data.message});case 18:return a.abrupt("return",{success:!1,error:"Sorry, something went wrong."});case 19:case"end":return a.stop()}}),s,null,[[0,12]])})));return function(e){return c.apply(this,arguments)}}()}},rePB:function(e,r,t){"use strict";function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}t.d(r,"a",(function(){return n}))},uLTp:function(e,r,t){"use strict";t.r(r);var n=t("o0o1"),a=t.n(n),s=t("rePB"),c=t("HaE+"),u=t("nKUr"),o=t("20a2"),i=t("q1tI"),p=t("/MKj"),l=t("oYlB"),f=t("O9AT"),d=t("Oyp5"),b=t("aV75");function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(Object(t),!0).forEach((function(r){Object(s.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.default=Object(p.b)(null,{verifyEmail:l.f})((function(e){var r=Object(o.useRouter)(),t=r.query,n=t.expires,s=t.signature,p=t.userID,l=t.hash,h=Object(i.useState)({error:"",loading:!0}),w=h[0],x=h[1];Object(i.useEffect)((function(){(function(){var t=Object(c.a)(a.a.mark((function t(){var c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.verifyEmail(p,l,n,s);case 2:if(!(c=t.sent).success){t.next=7;break}return x(v(v({},w),{},{loading:!1,error:""})),setTimeout((function(){r.push("/dashboard")}),3e3),t.abrupt("return");case 7:c.error&&x(v(v({},w),{},{loading:!1,error:c.error}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var m=w.loading?"We are currently validating your email address...":w.loading||w.error?"Verification failed!":"Verification successfull!",y=w.loading?"":w.loading||w.error?"Sorry, something went wrong!":"Perfect! You will be redirected shortly....";return Object(u.jsx)("div",{className:"w-screen h-screen relative",children:Object(u.jsx)("div",{className:"absolute w-full md:w-3/5 lg:w-1/3 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:Object(u.jsx)(f.a,{additionalInnerClasses:"justify-center items-center",additionalWrapperClasses:"bg-gray-100",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(d.a,{withMargin:!0,center:!0,children:m}),Object(u.jsxs)("p",{children:[" ",Object(u.jsx)(b.a,{show:w.loading})," ",Object(u.jsx)("span",{children:y})]})]})})})})}))}},[["D0lX",0,1,2,3,4,5]]]);